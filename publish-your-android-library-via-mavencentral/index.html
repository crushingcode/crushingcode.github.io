<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" Guide to publishing your Android Library via MavenCentral &middot;  Crushing C.O.D.E" />
  	<meta property="og:site_name" content="Crushing C.O.D.E" />
  	<meta property="og:url" content="http://crushingcode.github.io/publish-your-android-library-via-mavencentral/" />

    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2016-07-17T10:54:24&#43;02:00" />

    
    <meta property="og:article:tag" content="android" />
    
    <meta property="og:article:tag" content="library" />
    
    <meta property="og:article:tag" content="publish" />
    
    <meta property="og:article:tag" content="mavencentral" />
    
    

  <title>
     Guide to publishing your Android Library via MavenCentral &middot;  Crushing C.O.D.E
  </title>

    <meta name="description" content="43 72 75 73 68 69 6e 67 20 43 2e 4f 2e 44 2e 45" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="http://crushingcode.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="http://crushingcode.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="http://crushingcode.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="http://crushingcode.github.io/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,700" />


    
      
          <link href="http://crushingcode.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Crushing C.O.D.E" />
      
      
    
    <meta name="generator" content="Hugo 0.17" />

    <link rel="canonical" href="http://crushingcode.github.io/publish-your-android-library-via-mavencentral/" />

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-53824796-3', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        

        
            
            <li class="nav-opened" role="presentation">
              <a href="http://crushingcode.github.io/">Home</a>
            </li>
        
            <b>Follow me üöÄ<b>
            <li class="nav-opened" role="presentation">
              <a href="https://github.com/nisrulz">Github</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://twitter.com/nisrulz">Twitter</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://dribbble.com/nisrulz">Dribbble</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="http://stackoverflow.com/users/2745762/radix">Stackoverflow</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://slides.com/nisrulz">Slides</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://www.behance.net/nisrulz">Behance</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://codepen.io/nisrulz/">Codepen</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://www.quora.com/profile/Nishant-Rulez">Quora</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://speakerdeck.com/nisrulz">SpeakerDeck</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://android-arsenal.com/user/nisrulz">Android Arsenal</a>
            </li>
        
            <b>Like my work? ‚ò∫Ô∏è</b>
            <li class="nav-opened" role="presentation">
              <a href="http://ko-fi.com/A443EQ6">Buy me a Coffee</a>
            </li>
        
            <b>Contact Me ‚úâÔ∏è</b>
            <li class="nav-opened" role="presentation">
              <a href="mailto:nisrulz@gmail.com?Subject=Heyo%20CodeCrusher"> Mail</a>
            </li>
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="http://crushingcode.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
      <a class="blog-logo" href="http://crushingcode.github.io/"><img src="http://crushingcode.github.io/images/author.jpg" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Guide to publishing your Android Library via MavenCentral</h1>
        <small></small>

        <section class="post-meta">
        
        
        
            
            
        

        
            Nishant Srivastava
        
          <time class="post-date" datetime="2016-07-17T10:54:24&#43;02:00">
            Jul 17, 2016
          </time>
        
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/android/">#android</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/library/">#library</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/publish/">#publish</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/mavencentral/">#mavencentral</a></span>
         
        </section>
    </header>

    <section class="post-content">
      <br/>
      

<p>If you come from the java world, you would already be knowing about MavenCentral in a big way. MavenCentral is the central repository which hosts all the maven artifacts and one can reference them from anywhere in the world. Android artifacts can also be hosted on MavenCentral in a similar manner. Here I am going to document the process to publish an android library to MavenCentral, as I followed it.</p>

<p>This post is second in parts of a series. If you didnot read the others in series , go have a look</p>

<ol>
<li><a href="http://crushingcode.github.io/publish-your-android-library-via-jcenter/">Guide to publishing your Android Library via Jcenter/Bintray</a></li>
<li><a href="#">Guide to publishing your Android Library via MavenCentral</a></li>
<li>Guide to publishing your Android Library via JitPack (..todo)</li>
</ol>

<p>The first step need you to create and build your Android &ldquo;Awesome&rdquo; Library and can be read in the <a href="http://crushingcode.github.io/publish-your-android-library-via-jcenter/">first post of this series here</a>. If you have not done so , then please go ahead and read it up.</p>

<p>Assuming you already have your Android &ldquo;Awesome&rdquo; Library built , I will jump directly to steps involved in publishing your library to MavenCentral</p>

<h5 id="publishing-your-android-awesome-library">Publishing your Android &ldquo;Awesome&rdquo; Library</h5>

<p>Setup <a href="http://blog.ghostinthemachines.com/2015/03/01/how-to-use-gpg-command-line/">GPG</a> and generate yourself a key.</p>

<ul>
<li>Now list your gpg keys</li>
</ul>

<pre><code class="language-bash">  $ gpg --list-keys
</code></pre>

<blockquote>
<p>There the first line will be like pub XXXXX/YYYYYYYY <date>. Remember that ‚ÄòYYYYYYYY‚Äô part, it‚Äôs you key ID.</p>
</blockquote>

<ul>
<li>Next, publish your keys</li>
</ul>

<pre><code class="language-bash">  $ gpg --keyserver hkp://keyserver.ubuntu.com --send-keys YYYYYYYY
  $ gpg --keyserver hkp://pgp.mit.edu --send-keys YYYYYYYY
</code></pre>

<ul>
<li>To ensure your keys were published</li>
</ul>

<pre><code class="language-bash">  $ gpg --keyserver hkp://pgp.mit.edu --search-keys
  username@example.com # Use your email
</code></pre>

<p>Setup Sonatype account</p>

<ul>
<li>Create a JIRA account on <a href="https://issues.sonatype.org/secure/Signup!default.jspa">Sonatype</a>
<img src="http://crushingcode.github.io/images/posts/uploadtomaven/signup.jpeg" alt="signup" /></li>
</ul>

<p>and Login
  <img src="http://crushingcode.github.io/images/posts/uploadtomaven/login.jpeg" alt="login" /></p>

<ul>
<li><p>Once you are logged in, <a href="https://issues.sonatype.org/secure/CreateIssue.jspa?issuetype=21&amp;pid=10134">create a new issue</a>
<img src="http://crushingcode.github.io/images/posts/uploadtomaven/create.jpeg" alt="create" /></p></li>

<li><p>Fill out the form as below</p>

<ul>
<li>Project : Community Support - Open source</li>
<li>Issue Type : New Project</li>
<li>Group Id : com.github.github_username</li>
<li>Project URL : <a href="https://github.com/github_username/project_name">https://github.com/github_username/project_name</a></li>
<li>SCM url : <a href="https://github.com/github_username/project_name.git">https://github.com/github_username/project_name.git</a></li>
<li>Username : sonatype_username</li>
<li>Already Synced to Central : No</li>
</ul>

<p><img src="http://crushingcode.github.io/images/posts/uploadtomaven/createissue.jpeg" alt="createissue" /></p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtomaven/createissue2.jpeg" alt="createissue2" /></p></li>

<li><p>Next hit <strong>Create</strong>. After that, it can take up to 2 business days to process your issue. Then you will receive a confirmation that your configuration has been prepared and you can publish your library.</p>

<blockquote>
<p><strong>IMPORTANT</strong> : Do not deploy until after you have received an e-mail notice indicating that the ticket is Resolved.</p>
</blockquote>

<p><img src="http://crushingcode.github.io/images/posts/uploadtomaven/approved.jpeg" alt="approved" /></p></li>

<li><p>Update <code>gradle.properties</code> on your local machine  at location <code>~/.gradle/gradle.properties</code> and include</p>

<pre><code> NEXUS_USERNAME=sonatype_username
 NEXUS_PASSWORD=sonatype_password
 signing.keyId=gpg_key_id
 signing.password=gpg_password
 signing.secretKeyRingFile=/Users/username/.gnupg/secring.gpg
 org.gradle.daemon=true
</code></pre></li>
</ul>

<blockquote>
<p>IMPORTANT: Steps for setting up your sonatype account up till here are required only once. The steps after these are required whenever publishing your android library, even if its a new one. Just remember to configure it well in your gradle.properties</p>
</blockquote>

<h5 id="add-the-plugin-by-chris-banes-to-your-library-s-build-gradle">Add the plugin by Chris Banes to your library&rsquo;s <code>build.gradle</code>.</h5>

<blockquote>
<p>NOTE:  Below is a <a href="https://github.com/nisrulz/gradle-mvn-push">fork</a> of the <a href="https://github.com/chrisbanes/gradle-mvn-push">original script</a> written by Chris Banes.</p>
</blockquote>

<pre><code class="language-gradle">apply from: 'https://raw.github.com/nisrulz/gradle-mvn-push/master/gradle-mvn-push.gradle'
</code></pre>

<p>and define the required variables in the <code>gradle.properties</code>.</p>

<pre><code># Properties used by gradle maven-push plugin
VERSION_NAME=1.0.0
VERSION_CODE=1
POM_NAME=&lt;Library_Name&gt;
POM_ARTIFACT_ID=&lt;library_name_smallcaps&gt;

POM_DESCRIPTION=&lt;library_description&gt;
POM_URL=https://github.com/&lt;username&gt;/&lt;repo_name&gt;
POM_SCM_URL=https://github.com/&lt;username&gt;/&lt;repo_name&gt;
POM_SCM_CONNECTION=scm:git@github.com:&lt;username&gt;/&lt;repo_name&gt;.git
POM_SCM_DEV_CONNECTION=scm:git@github.com:&lt;username&gt;/&lt;repo_name&gt;.git
</code></pre>

<ul>
<li>Run in terminal to publish your artifacts</li>
</ul>

<pre><code class="language-bash">  ./gradlew build clean uploadArchive
</code></pre>

<ul>
<li>Login into <a href="https://oss.sonatype.org/#stagingRepositories">Nexus Repository Console</a> and search for your package name.</li>
</ul>

<p><img src="http://crushingcode.github.io/images/posts/uploadtomaven/nexusrepo.jpeg" alt="nexusrepo" /></p>

<p>Next</p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtomaven/close.jpeg" alt="close" /></p>

<ol>
<li><p>Close the staged artifact.[wait]</p></li>

<li><p>Release the closed artifact (keep drop artifact selected).[wait]</p></li>

<li><p>Wait for some hours before everything gets synced with MavenCentral.</p></li>
</ol>

<h5 id="using-your-android-awesome-library-in-other-projects">Using your Android &ldquo;Awesome&rdquo; Library in other projects</h5>

<p>Your code is available through MavenCentral if you have received the mail with confirmation</p>

<p>You can use the lib now as follows</p>

<pre><code class="language-gradle">dependencies {
    compile '&lt;group_name&gt;:&lt;artifact_name&gt;:1.0'
  }
</code></pre>

<p>i.e for the sample lib in this repo , <code>awesomelib</code></p>

<pre><code class="language-gradle">dependencies {
      compile 'com.github.nisrulz:awesomelib:1.0'
  }
</code></pre>

<ul>
<li>Let the world know of your <strong>AwesomeLib</strong></li>
</ul>

<blockquote>
<ul>
<li>Add a readme that explains how to integrate and use your Awesome library</li>
<li>Add a license block as in this repo</li>
<li>Also include a badge of MavenCentral in your readme</li>
<li>Promote your lib on social media so that others can know about it.</li>
<li>Always add a working sample app in your project that demonstrates your library in use.</li>
<li>Add screenshots if possible in your readme.</li>
</ul>
</blockquote>

<p>The code for the AwesomeLibrary and this guide itself is open sourced and available on <a href="https://github.com/nisrulz/UploadToMavenCentral">github</a></p>

<p>Star it or just fork it to use it.</p>

    </section>


  <footer class="post-footer">


    
    <figure class="author-image">
        <a class="img" href="http://crushingcode.github.io/" style="background-image: url(http://crushingcode.github.io/images/author.jpg)"><span class="hidden">Nishant Srivastava's Picture</span></a>
    </figure>
    

    





<section class="author">
  <h4><a href="http://crushingcode.github.io/">Nishant Srivastava</a></h4>
  
  <p>Creative sleeper. Avid dreamer.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Gurgaon, India</span>
    <span class="author-link icon-link"><a href="https://about.me/nisrulz">https://about.me/nisrulz</a></span>
  </div>
</section>



    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Guide%20to%20publishing%20your%20Android%20Library%20via%20MavenCentral&amp;url=http%3a%2f%2fcrushingcode.github.io%2fpublish-your-android-library-via-mavencentral%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fcrushingcode.github.io%2fpublish-your-android-library-via-mavencentral%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=http%3a%2f%2fcrushingcode.github.io%2fpublish-your-android-library-via-mavencentral%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'crushingcode';
  var disqus_url = 'http:\/\/crushingcode.github.io\/publish-your-android-library-via-mavencentral\/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Crushing C.O.D.E</a> All rights reserved - 2015</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="http://crushingcode.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="http://crushingcode.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="http://crushingcode.github.io/js/index.js"></script>
    
</body>
</html>

