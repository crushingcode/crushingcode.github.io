<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" Guide to publishing your Android Library via Jcenter/Bintray &middot;  Crushing C.O.D.E" />
  	<meta property="og:site_name" content="Crushing C.O.D.E" />
  	<meta property="og:url" content="http://crushingcode.github.io/publish-your-android-library-via-jcenter/" />

    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2016-07-12T10:54:24&#43;02:00" />

    
    <meta property="og:article:tag" content="android" />
    
    <meta property="og:article:tag" content="library" />
    
    <meta property="og:article:tag" content="publish" />
    
    <meta property="og:article:tag" content="jcenter" />
    
    

  <title>
     Guide to publishing your Android Library via Jcenter/Bintray &middot;  Crushing C.O.D.E
  </title>

    <meta name="description" content="43 72 75 73 68 69 6e 67 20 43 2e 4f 2e 44 2e 45" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="http://crushingcode.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="http://crushingcode.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="http://crushingcode.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="http://crushingcode.github.io/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,700" />


    
      
          <link href="http://crushingcode.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Crushing C.O.D.E" />
      
      
    
    <meta name="generator" content="Hugo 0.15" />

    <link rel="canonical" href="http://crushingcode.github.io/publish-your-android-library-via-jcenter/" />

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-53824796-3', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        

        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://crushingcode.github.io/" target="_blank">Blog</a>
            </li>
        
            <b>Follow me<b>
            <li class="nav-opened" role="presentation">
            	<a href="https://github.com/nisrulz" target="_blank">Github</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://twitter.com/nisrulz" target="_blank">Twitter</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://dribbble.com/nisrulz" target="_blank">Dribbble</a>
            </li>
        
            <b>Contact Me</b>
            <li class="nav-opened" role="presentation">
            	<a href="https://about.me/nisrulz" target="_blank">About.me</a>
            </li>
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="http://crushingcode.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
      <a class="blog-logo" href="http://crushingcode.github.io/"><img src="http://crushingcode.github.io/images/author.jpg" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Guide to publishing your Android Library via Jcenter/Bintray</h1>
        <small></small>

        <section class="post-meta">
        
        
        
            
            
        

        
            Nishant Srivastava
        
          <time class="post-date" datetime="2016-07-12T10:54:24&#43;02:00">
            Jul 12, 2016
          </time>
        
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/android/">#android</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/library/">#library</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/publish/">#publish</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/jcenter/">#jcenter</a></span>
         
        </section>
    </header>

    <section class="post-content">
      <br/>
      

<p>Developers are a different kind of people altogether. <strong>They tend to be lazy but strive to be super efficient at the same time</strong>.
A lot of this can be seen in the Android world where a certain library pops up everyday to solve a specific problem or  to make the complex processes simpler.</p>

<p>I have a certain knack for re-using code blocks just to avoid repeative tasks and to facilitate this I usually end up converting those codeblocks into an android library.</p>

<blockquote>
<p>But what if I wanted to share my android library with the world?</p>
</blockquote>

<p>Well in a nutshell the steps to follow would be as below :</p>

<ul>
<li>First of all I need to open source the andorid library, which should be easy as you can push it to <a href="https://github.com/">Github</a> or any other public git repository.</li>

<li><p>Next I need to push the android library as a maven artifact (aar/jar with a POM) to all of the or one of the below central repositories</p>

<ul>
<li><a href="https://bintray.com/">JCenter/Bintray</a></li>
<li><a href="https://search.maven.org/">Maven Central</a></li>
<li><a href="https://www.jitpack.io/">Jitpack</a></li>
</ul></li>
</ul>

<p>We will walkthrough the process of publishing to each if these central repositories in the upcoming posts of this series.</p>

<p>For now lets lookup the steps to publish your android library to JCenter/Bintray.</p>

<h5 id="creating-your-android-awesome-library:3aca4bb9a1be907ad816749bc422b732">Creating your Android &ldquo;Awesome&rdquo; Library</h5>

<blockquote>
<p>You can skip to the next part if you already have this built</p>
</blockquote>

<ul>
<li>Create an Android project or open an existing one in <a href="https://en.wikipedia.org/wiki/Android_Studio">Android Studio</a></li>
<li>Init the project with git and also create a repo on Github for the same. Each step here onwards represent a commit and should be pushed to github.</li>
<li>Create and add a new module and choose <code>Android Library</code>.</li>
</ul>

<blockquote>
<p>Goto <code>File&gt;New&gt;New Module..</code> and select <code>Android Library</code>.</p>
</blockquote>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/newmodule.jpeg" alt="newmodule" /></p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/newlib.jpeg" alt="newlib" /></p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/newlibinfo.jpeg" alt="newlibinfo" /></p>

<ul>
<li>Implement your library code inside the library module you created in the last step.</li>
<li>Next add the library module as a dependency to the app module.</li>
</ul>

<blockquote>
<ol>
<li>Goto <code>File&gt;Project Structure..</code></li>
<li>Select <code>app</code> module in the sidebar</li>
<li>Select the <code>Dependencies</code> tab</li>
<li>At the bottom is a <code>+</code> icon, click that and select <code>Module dependency</code> and select your <code>library</code> module.</li>
<li>Press <code>apply</code> or <code>ok</code>.</li>
</ol>
</blockquote>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/project.jpeg" alt="project" /></p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/prjstruct.jpeg" alt="prjstruct" /></p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/addmodule.jpeg" alt="addmodule" /></p>

<h5 id="publishing-your-android-awesome-library:3aca4bb9a1be907ad816749bc422b732">Publishing your Android &ldquo;Awesome&rdquo; Library</h5>

<ul>
<li>Once project is synced, add the required plugins to classpath in <code>build.gradle</code> file at root project level, as shown below</li>
</ul>

<pre><code class="language-gradle"> dependencies {
    classpath 'com.android.tools.build:gradle:2.1.2'
    ..
    ..
    // Required plugins added to classpath to facilitate pushing to Jcenter/Bintray
    classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.4'
    classpath 'com.github.dcendents:android-maven-gradle-plugin:1.3'
    ..
   }
</code></pre>

<ul>
<li>Next, apply the <code>bintray</code> and <code>install</code> plugins at the bottom of build.gradle file at library module level. Also add the ext variable with required information as shown below</li>
</ul>

<pre><code class="language-gradle"> apply plugin: 'com.android.library'

 ext {
   bintrayRepo = 'maven'
   bintrayName = 'awesomelib'   // Has to be same as your library module name

   publishedGroupId = 'com.github.nisrulz'
   libraryName = 'AwesomeLib'
   artifact = 'awesomelib'     // Has to be same as your library module name

   libraryDescription = 'Android Library to make any text into Toast with Awesome prepended to the text'

   // Your github repo link
   siteUrl = 'https://github.com/nisrulz/UploadToBintray'
   gitUrl = 'https://github.com/nisrulz/UploadToBintray.git'

   libraryVersion = '1.0'

   developerId = 'nisrulz'
   developerName = 'Nishant Srivastava'
   developerEmail = 'nisrulz@gmail.com'

   licenseName = 'The Apache Software License, Version 2.0'
   licenseUrl = 'http://www.apache.org/licenses/LICENSE-2.0.txt'
   allLicenses = [&quot;Apache-2.0&quot;]
 }

 ..
 ..

 // Place it at the end of the file
 apply from: 'https://raw.githubusercontent.com/nisrulz/JCenter/master/installv1.gradle'
 apply from: 'https://raw.githubusercontent.com/nisrulz/JCenter/master/bintrayv1.gradle'

</code></pre>

<ul>
<li>Edit your <code>local.properties</code></li>
</ul>

<pre><code>bintray.user=&lt;your_bintray_username&gt;
bintray.apikey=&lt;your_bintray_apikey&gt;
</code></pre>

<ul>
<li><p>Now lets setup Bintray before we can push our artifact to it.</p>

<ul>
<li>Register for an account on <a href="https://bintray.com/">bintray.com</a> and click the activation email they send you.</li>
<li>Add a new Maven repository and click <strong>Create New Package</strong></li>
<li>You should now have a maven repository. For instance:
<code>https://bintray.com/nisrulz/maven</code></li>

<li><p>Now once you have your maven repo setup , click on <strong>Edit</strong></p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/edit.jpeg" alt="edit" /></p></li>
</ul>

<p>and see that you have selected the option <code>GPG sign uploaded files using Bintray's public/private key pair.</code> and then click <strong>Update</strong>.</p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/gpg.jpeg" alt="gpg" /></p></li>

<li><p>Once everything is configured, run the below in your terminal in your root of the project</p></li>
</ul>

<pre><code class="language-gradle">./gradlew install bintrayUpload
</code></pre>

<ul>
<li>Now once your project is up on bintray, simply hit <strong>Add to Jcenter</strong> button to sync with JCenter.</li>
</ul>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/addtojcenter.jpeg" alt="addtojcenter" /></p>

<h5 id="using-your-android-awesome-library-in-other-projects:3aca4bb9a1be907ad816749bc422b732">Using your Android &ldquo;Awesome&rdquo; Library in other projects</h5>

<ul>
<li>Your code is available through the private repo at bintray</li>
</ul>

<pre><code class="language-gradle">repositories {
   jcenter()
   maven { url 'https://dl.bintray.com/&lt;bintray_username&gt;/maven' }
}
dependencies {
  compile 'com.github.&lt;bintray_username&gt;:&lt;library_module&gt;:1.0'
}
</code></pre>

<p>i.e for the sample lib in this repo , <code>awesomelib</code></p>

<pre><code class="language-gradle">repositories {
   jcenter()
   maven { url 'https://dl.bintray.com/nisrulz/maven' }
}
dependencies {
  compile 'com.github.nisrulz:awesomelib:1.0'
}
</code></pre>

<ul>
<li>Your code is available through JCenter if you have received the mail with confirmation</li>
</ul>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/finalmail.jpeg" alt="finalmail" /></p>

<p>Few things to note when you received the final email.</p>

<ul>
<li><p>Goto your maven repo at bintray and verify that you have Jcenter under the <strong>Linked to</strong> section</p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/linked.jpeg" alt="linked" /></p></li>

<li><p>Now you would also want to sync the artifact to <a href="https://search.maven.org/">MavenCentral</a>, for that you need to hit the <strong>Maven Central</strong> tab and sync</p>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/synctomaven.jpeg" alt="synctomaven" /></p></li>

<li><p>Once you hit sync you would see as below. Wait for few hours for the sync to occur.</p></li>
</ul>

<p><img src="http://crushingcode.github.io/images/posts/uploadtojcenter/syncstatus.jpeg" alt="syncstatus" /></p>

<p>You can use the lib now as follows</p>

<pre><code class="language-gradle">dependencies {
    compile 'com.github.&lt;bintray_username&gt;:&lt;library_module&gt;:1.0'
  }
</code></pre>

<p>i.e for the sample lib in this repo , <code>awesomelib</code></p>

<pre><code class="language-gradle">dependencies {
      compile 'com.github.nisrulz:awesomelib:1.0'
  }
</code></pre>

<ul>
<li>Let the world know of your <strong>AwesomeLib</strong></li>
</ul>

<blockquote>
<ul>
<li>Add a readme that explains how to integrate and use your Awesome library</li>
<li>Add a license block as in this repo</li>
<li>Also include the Bintray badge provided by Bintray in your readme
<img src="http://crushingcode.github.io/images/posts/uploadtojcenter/badge.jpeg" alt="badge" /></li>
<li>Promote your lib on social media so that others can know about it.</li>
<li>Always add a working sample app in your project that demonstrates your library in use.</li>
<li>Add screenshots if possible in your readme.</li>
</ul>
</blockquote>

<p>The code for the AwesomeLibrary and this guide itself is open sourced and available on <a href="https://github.com/nisrulz/UploadToBintray">github</a></p>

<p>The <code>bintray</code> and <code>install</code> plugins are also available on <a href="https://github.com/nisrulz/JCenter">github</a>. You may fork it and use it in your namespace.</p>

<p>Star it or just fork it to use it.</p>

<p>This post is first in parts of a series</p>

<ol>
<li><a href="#">Guide to publishing your Android Library via Jcenter/Bintray</a></li>
<li>Guide to publishing your Android Library via MavenCentral (..todo)</li>
<li>Guide to publishing your Android Library via JitPack (..todo)</li>
</ol>

    </section>


  <footer class="post-footer">


    
    <figure class="author-image">
        <a class="img" href="http://crushingcode.github.io/" style="background-image: url(http://crushingcode.github.io/images/author.jpg)"><span class="hidden">Nishant Srivastava's Picture</span></a>
    </figure>
    

    





<section class="author">
  <h4><a href="http://crushingcode.github.io/">Nishant Srivastava</a></h4>
  
  <p>Creative sleeper. Avid dreamer.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Gurgaon, India</span>
    <span class="author-link icon-link"><a href="https://about.me/nisrulz">https://about.me/nisrulz</a></span>
  </div>
</section>



    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Guide%20to%20publishing%20your%20Android%20Library%20via%20Jcenter%2fBintray&amp;url=http%3a%2f%2fcrushingcode.github.io%2fpublish-your-android-library-via-jcenter%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fcrushingcode.github.io%2fpublish-your-android-library-via-jcenter%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=http%3a%2f%2fcrushingcode.github.io%2fpublish-your-android-library-via-jcenter%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'nisrulz';
  var disqus_url = 'http:\/\/crushingcode.github.io\/publish-your-android-library-via-jcenter\/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Crushing C.O.D.E</a> All rights reserved - 2015</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="http://crushingcode.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="http://crushingcode.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="http://crushingcode.github.io/js/index.js"></script>
    
</body>
</html>

