<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" Own a maven repository, like a boss! – Part 1 &middot;  Crushing C.O.D.E" />
  	<meta property="og:site_name" content="Crushing C.O.D.E" />
  	<meta property="og:url" content="http://crushingcode.github.io/own-a-maven-repository-like-a-bosspart-1/" />

    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2015-08-03T10:54:24&#43;02:00" />

    
    <meta property="og:article:tag" content="maven" />
    
    <meta property="og:article:tag" content="artifact" />
    
    <meta property="og:article:tag" content="android" />
    
    <meta property="og:article:tag" content="private" />
    
    <meta property="og:article:tag" content="repository" />
    
    

  <title>
     Own a maven repository, like a boss! – Part 1 &middot;  Crushing C.O.D.E
  </title>

    <meta name="description" content="43 72 75 73 68 69 6e 67 20 43 2e 4f 2e 44 2e 45" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="http://crushingcode.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="http://crushingcode.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="http://crushingcode.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="http://crushingcode.github.io/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,700" />


    
      
          <link href="http://crushingcode.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Crushing C.O.D.E" />
      
      
    
    <meta name="generator" content="Hugo 0.15" />

    <link rel="canonical" href="http://crushingcode.github.io/own-a-maven-repository-like-a-bosspart-1/" />

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-53824796-3', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        

        
            
            <li class="nav-opened" role="presentation">
              <a href="http://crushingcode.github.io/">Home</a>
            </li>
        
            <b>Follow me<b>
            <li class="nav-opened" role="presentation">
              <a href="https://github.com/nisrulz">Github</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://twitter.com/nisrulz">Twitter</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://dribbble.com/nisrulz">Dribbble</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="http://stackoverflow.com/users/2745762/radix">Stackoverflow</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://slides.com/nisrulz">Slides</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://www.behance.net/nisrulz">Behance</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://codepen.io/nisrulz/">Codepen</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://www.quora.com/profile/Nishant-Rulez">Quora</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://speakerdeck.com/nisrulz">SpeakerDeck</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://android-arsenal.com/user/nisrulz">Android Arsenal</a>
            </li>
        
            <b>Contact Me</b>
            <li class="nav-opened" role="presentation">
              <a href="mailto:nisrulz@gmail.com?Subject=Heyo%20CodeCrusher">Mail</a>
            </li>
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="http://crushingcode.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
      <a class="blog-logo" href="http://crushingcode.github.io/"><img src="http://crushingcode.github.io/images/author.jpg" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Own a maven repository, like a boss! – Part 1</h1>
        <small></small>

        <section class="post-meta">
        
        
        
            
            
        

        
            Nishant Srivastava
        
          <time class="post-date" datetime="2015-08-03T10:54:24&#43;02:00">
            Aug 3, 2015
          </time>
        
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/maven/">#maven</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/artifact/">#artifact</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/android/">#android</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/private/">#private</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/repository/">#repository</a></span>
         
        </section>
    </header>

    <section class="post-content">
      <br/>
      

<p>Have you ever thought how the central repository works like Maven Central or JCenter?
Is it possible to own one for yourself?
Do you want to host your artifacts in your own private repository?</p>

<p>If your answer is <strong>YES</strong>, well you are in the right place. I am going to walk you through basic steps involved in setting up your own maven repository where you can publish your artifacts, using all but your terminal, git and a public remote repository hosting service of your choice ( i.e Github or Bitbucket ).</p>

<p><strong>For those of you who want to jump into the code right away , here is the gist</strong></p>

<script src="https://gist.github.com/nisrulz/efb1654eaeb8930591c6.js"></script>

<p><strong>For the rest of you who want a complete explanation, lets dive in</strong>..</p>

<h2 id="terms:f84ad0192643eed3ea96b10c231ee903">Terms</h2>

<p>Before we start, I want you to get acquainted with some of the terms:</p>

<p><strong>Artifacts</strong> : An artifact is a file, usually a JAR, that gets deployed to a Maven repository. A Maven build produces one or more artifacts, such as a compiled JAR and a “sources” JAR. Each artifact has a group ID (usually a reversed domain name, like com.example.foo), an artifact ID (just a name), and a version string. The three together uniquely identify the artifact. A project’s dependencies are specified as artifacts.</p>

<p><strong>Maven</strong> : A tool that can be used for building and managing any Java-based project.(<a href="https://maven.apache.org/what-is-maven.html">more info</a>)</p>

<blockquote>
<p>I would like to mention that having your artifacts in the Maven Central and JCenter has a plethora of advantages which you will never be able to get when using the below method.
Lets just say its just another method to host and publish your artifacts without having to go through the process of publishing it to central repository.</p>
</blockquote>

<p>Prerequisites</p>

<ol>
<li><p>git (<a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">Install guide</a>)</p></li>

<li><p>maven (<a href="https://maven.apache.org/install.html">Install guide</a>)</p></li>

<li><p><a href="https://bitbucket.org/">Bitbucket</a> or <a href="https://github.com/">Github</a> account</p></li>

<li><p>JAR/AAR/WAR file to be published to your maven repository</p></li>
</ol>

<p>….Okay…if you made it till this point, everything is going to be a piece of cake from here onwards :P promise :)</p>

<h2 id="steps:f84ad0192643eed3ea96b10c231ee903">Steps</h2>

<p><strong>Step 1</strong> : Fire up your terminal/command prompt
<strong>Step 2</strong> : Create a directory where you will sync your maven artifacts to, lets say its called mavenrepo</p>

<pre><code>mkdir mavenrepo
</code></pre>

<p>and change into the mavenrepo directory</p>

<pre><code>cd mavenrepo
</code></pre>

<p><strong>Step 3</strong> : Once inside the directory, initialize it with git</p>

<pre><code>git init
</code></pre>

<p><strong>Step 4</strong> : Create a repository named <strong>mavenrepo (git remote)</strong> at Github/Bitbucket and add it to your <strong>mavenrepo (git local)</strong> directory as a remote repository named <strong>origin</strong> ( here i am adding a github repo)</p>

<pre><code>git remote add origin https://github.com/&lt;username&gt;/mavenrepo.git
</code></pre>

<blockquote>
<p>Note : you can get the url from Github under the settings tab when at your repository page</p>
</blockquote>

<p><img src="http://crushingcode.github.io/images/posts/copygithuburl.png" alt="copygithuburl" /></p>

<p><strong>Step 5</strong> :  Create 2 directories under mavenrepo, namely releases and snapshots</p>

<pre><code>mkdir releases snapshots
</code></pre>

<p><strong>Step 6</strong> : Create README.md under each sub directory, releases and snapshots
Note: This step is required since git will not push empty directories, so we add empty README.md files :)</p>

<pre><code>touch releases/README.md
touch snapshots/README.md
</code></pre>

<p><strong>Step 7</strong> : Stage all the changed files under git, using the below command</p>

<pre><code>git add .
</code></pre>

<p><strong>Step 8</strong> : Commit with a message</p>

<pre><code>git commit -m &quot;Initial Setup&quot;
</code></pre>

<p><strong>Step 9</strong> : Push to origin</p>

<pre><code>git push origin master
</code></pre>

<p>Thats It!
You have a working maven repository :D</p>

<p>Okay, this is cool …I have a working maven repository ..hmm..but something is missing ….wait a second, where is the artifact that i would be pushing to this maven repository ??
To be specific, how do i generate the maven artifact ?
Simple,</p>

<h2 id="generating-a-maven-artifact:f84ad0192643eed3ea96b10c231ee903">Generating a maven artifact</h2>

<p><strong>Step 10</strong> : Generate a maven artifact using the below command in terminal/command prompt (provided you already have the maven installed)</p>

<pre><code>mvn clean org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -DgroupId=com.company.id -DartifactId=artificatid -Dversion=1.0.0 -Dpackaging=aar -Dfile=artifact.aar -DlocalRepositoryPath=./mavenrepo/releases/aar -DgeneratePom=true -DcreateChecksum=true
</code></pre>

<p>thats a lot to take in but thats just one single command that does it all.</p>

<p>Lets break it down into parts:</p>

<ul>
<li><strong>mvn</strong> Maven build tool command</li>
<li><strong>clean</strong> Command that attempts to clean a project’s working directory of the files that were generated at build-time</li>
<li><strong>org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file</strong> Command to install the artifact into the maven repository via using a specific maven plugin, here being v2.5.2</li>
<li><strong>-DgroupId</strong> Specify your package name here i.e.com.company.id</li>
<li><strong>-DartifactId</strong> Specify the name of the artifact</li>
<li><strong>-Dversion</strong> Specify the version of the artifact</li>
<li><strong>-Dpackaging</strong> Specify the packaging type of the artifact i.e jar/aar/war</li>
<li><strong>-Dfile</strong> Specify here the specific name of the jar/aar/war you are pushing as a maven artifact</li>
<li><strong>-DlocalRepositoryPath</strong> Specify the path to your mavenrepo (git local) i.e.</li>
</ul>

<pre><code>./mavenrepo/releases/aar
</code></pre>

<ul>
<li><strong>-DgeneratePom</strong> Set it to true to generate a POM file</li>
<li><strong>-DcreateChecksum</strong> Set it to true to generate the checksum files</li>
</ul>

<p><strong>Step 11</strong> : Once you are done generating the maven artifacts and they are deployed under the specific folder ( releases/snapshots), just stage them, commit and push it to your remote repo…</p>

<pre><code>git add .
git commit -m &quot;&lt;artifact&gt; v1.0.0 added&quot;
git push origin master
</code></pre>

<p>Repeat <strong><em>Steps 10-11</em></strong> every time you want to publish a maven artifact to your own maven repository.</p>

<h2 id="in-summary:f84ad0192643eed3ea96b10c231ee903">In Summary</h2>

<p>Thats it for Part 1. In the next part we will see how to use this maven repository in our android application to reference libraries into our project with the help of gradle.</p>

<p>Till then have fun crushing code :D</p>

    </section>


  <footer class="post-footer">


    
    <figure class="author-image">
        <a class="img" href="http://crushingcode.github.io/" style="background-image: url(http://crushingcode.github.io/images/author.jpg)"><span class="hidden">Nishant Srivastava's Picture</span></a>
    </figure>
    

    





<section class="author">
  <h4><a href="http://crushingcode.github.io/">Nishant Srivastava</a></h4>
  
  <p>Creative sleeper. Avid dreamer.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Gurgaon, India</span>
    <span class="author-link icon-link"><a href="https://about.me/nisrulz">https://about.me/nisrulz</a></span>
  </div>
</section>



    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Own%20a%20maven%20repository%2c%20like%20a%20boss%21%20%e2%80%93%20Part%201&amp;url=http%3a%2f%2fcrushingcode.github.io%2fown-a-maven-repository-like-a-bosspart-1%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fcrushingcode.github.io%2fown-a-maven-repository-like-a-bosspart-1%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=http%3a%2f%2fcrushingcode.github.io%2fown-a-maven-repository-like-a-bosspart-1%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'crushingcode';
  var disqus_url = 'http:\/\/crushingcode.github.io\/own-a-maven-repository-like-a-bosspart-1\/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Crushing C.O.D.E</a> All rights reserved - 2015</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="http://crushingcode.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="http://crushingcode.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="http://crushingcode.github.io/js/index.js"></script>
    
</body>
</html>

