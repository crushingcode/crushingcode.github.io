<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" Meet JACK &amp; JILL , Android‚Äôs experimental toolchain &middot;  Crushing C.O.D.E" />
  	<meta property="og:site_name" content="Crushing C.O.D.E" />
  	<meta property="og:url" content="http://crushingcode.github.io/meet-jack-and-jill-androids-experimental-toolchain/" />

    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2015-07-21T10:54:24&#43;02:00" />

    
    <meta property="og:article:tag" content="build" />
    
    <meta property="og:article:tag" content="tools" />
    
    <meta property="og:article:tag" content="android" />
    
    

  <title>
     Meet JACK &amp; JILL , Android‚Äôs experimental toolchain &middot;  Crushing C.O.D.E
  </title>

    <meta name="description" content="43 72 75 73 68 69 6e 67 20 43 2e 4f 2e 44 2e 45" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="http://crushingcode.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="http://crushingcode.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="http://crushingcode.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="http://crushingcode.github.io/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,700" />


    
      
          <link href="http://crushingcode.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Crushing C.O.D.E" />
      
      
    
    <meta name="generator" content="Hugo 0.25.1" />

    <link rel="canonical" href="http://crushingcode.github.io/meet-jack-and-jill-androids-experimental-toolchain/" />

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-53824796-3', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        

        
            
            <li class="nav-opened" role="presentation">
              <a href="http://crushingcode.github.io/">Home</a>
            </li>
        
            <b>Follow me üöÄ<b>
            <li class="nav-opened" role="presentation">
              <a href="https://github.com/nisrulz">Github</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://twitter.com/nisrulz">Twitter</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://dribbble.com/nisrulz">Dribbble</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="http://stackoverflow.com/users/2745762/radix">Stackoverflow</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://slides.com/nisrulz">Slides</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://www.behance.net/nisrulz">Behance</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://codepen.io/nisrulz/">Codepen</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://www.quora.com/profile/Nishant-Rulez">Quora</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://speakerdeck.com/nisrulz">SpeakerDeck</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
              <a href="https://android-arsenal.com/user/nisrulz">Android Arsenal</a>
            </li>
        
            <b>Like my work? ‚ò∫Ô∏è</b>
            <li class="nav-opened" role="presentation">
              <a href="https://www.paypal.me/nisrulz/5">Buy me a Coffee</a>
            </li>
        
            <b>Contact Me ‚úâÔ∏è</b>
            <li class="nav-opened" role="presentation">
              <a href="mailto:nisrulz@gmail.com?Subject=Heyo%20CodeCrusher"> Mail</a>
            </li>
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="http://crushingcode.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
      <a class="blog-logo" href="http://crushingcode.github.io/"><img src="http://crushingcode.github.io/images/author.jpg" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Meet JACK &amp; JILL , Android‚Äôs experimental toolchain</h1>
        <small></small>

        <section class="post-meta">
        
        
        
            
            
        

        
            Nishant Srivastava
        
          <time class="post-date" datetime="2015-07-21T10:54:24&#43;02:00">
            Jul 21, 2015
          </time>
        
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/build/">#build</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/tools/">#tools</a></span>
         
          <span class="post-tag small"><a href="http://crushingcode.github.io/tags/android/">#android</a></span>
         
        </section>
    </header>

    <section class="post-content">
      <br/>
      <p>JACK &amp; JILL are part of the new tool chain for android and in the words of <a href="http://android-developers.blogspot.co.uk/2014/12/hello-world-meet-our-new-experimental.html">Android Developer Blog</a></p>

<blockquote>
<p>they are designed to improve build times and simplify development by reducing dependencies on other tools</p>
</blockquote>

<p>In case you are curious, <strong>JACK</strong> stands for <strong>Java Android Compiler Kit</strong> and <strong>JILL</strong> stands for  <strong>Jack Intermediate Library Linker</strong>.</p>

<p>Woa ..woa..wooaaaa ..thats sounds too technical ..lets slow this down, right.</p>

<p><strong>JACK</strong> &amp; <strong>JILL</strong> were released as an experimental tool chain in the Android SDK  21.1.1 and recently got minor bug fixes in the recent release of Android SDK 21.1.2</p>

<p><strong>So what exactly are they for  ?</strong>
<strong>JACK</strong> basically compiles your Java code directly to a .dex Dalvik Executable.
<strong>JILL</strong> on the other hand translates any libraries you are referencing to a new Jack library file (.jack).</p>

<p><strong>Whats the difference ?</strong>
Glad you asked :)
The usual process of android compilation process is
1. Use the standard javac compiler to convert the source code to Java bytecode
2. Feed this bytecode to dex compiler to get the Dalvik bytecode</p>

<p><strong>JACK</strong> eliminates the conversion to Java bytecode step and directly converts source code to Dalvik bytecode. During the same time it also handles any requested code minification (shrinking and/or obfuscation), previously handled by Proguard and then perform repackaging too.</p>

<p>Now all this time, <strong>JACK</strong> was working on you source code, right!
What if you have a library being referenced in the form of say a JAR?
<strong>JILL</strong> takes care of that, by converting all libraries to Jack Library File (.jack) which can easily be merged by JACK during compilation into object code.
Basically the Android Gradle plugin and JACK collect any .jack library files, along with your source code, and compiles them into a set of dex files and further assembles them into an APK.</p>

<p>The complete process explained in a diagram</p>

<p><img src="http://crushingcode.github.io/images/posts/jacksitesdiagram.png" alt="jacksitesdiagram" /></p>

<p><strong>Why all the hassle for compiler ?</strong>
Google believes in optimizing the whole process of  compilation of android apps. The faster that happens the better, maybe involve incremental compilation for the same(still under development)! :D
Also due to the Oracle-Google dispute over using java , Google probably wants to move away from using javac and have its own compiler in place to convert source code to dalvik bytecode.</p>

<p><strong>How do you use the tool chain in your apps ?</strong>
Good question! At the moment JACK &amp; JILL are both in experimental phase.
So you specifically need to enable them in your build.gradle i.e. you need to set <code>useJack = true</code></p>

<pre><code class="language-gradle">android {
    ...
     buildToolsRevision '24.0.1'
     defaultConfig {
         // Enable the experimental Jack build tools.
         useJack = true
         }
    ...
 }
</code></pre>

<p><a href="http://tools.android.com/tech-docs/jackandjill">More Info at Android Tools Project Site</a></p>

<p><strong>Downside ?</strong>
As of now these support only Java 7 i.e no support for Java 8 :(
No Annotation processing :(</p>

<p>Thats it for now.
Any questions are always welcome :D</p>

<p>References</p>

<ul>
<li><a href="http://android-developers.blogspot.co.uk/2014/12/hello-world-meet-our-new-experimental.html">Android Developer Blog</a></li>
<li><a href="http://tools.android.com/tech-docs/jackandjill">Android Tools Project Site</a></li>
</ul>

    </section>


  <footer class="post-footer">


    
    <figure class="author-image">
        <a class="img" href="http://crushingcode.github.io/" style="background-image: url(http://crushingcode.github.io/images/author.jpg)"><span class="hidden">Nishant Srivastava's Picture</span></a>
    </figure>
    

    





<section class="author">
  <h4><a href="http://crushingcode.github.io/">Nishant Srivastava</a></h4>
  
  <p>Creative sleeper. Avid dreamer.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Vancouver, BC</span>
    <span class="author-link icon-link"><a href="https://www.nisrulz.com">https://www.nisrulz.com</a></span>
  </div>
</section>



    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Meet%20JACK%20%26%20JILL%20%2c%20Android%e2%80%99s%20experimental%20toolchain&amp;url=http%3a%2f%2fcrushingcode.github.io%2fmeet-jack-and-jill-androids-experimental-toolchain%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fcrushingcode.github.io%2fmeet-jack-and-jill-androids-experimental-toolchain%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=http%3a%2f%2fcrushingcode.github.io%2fmeet-jack-and-jill-androids-experimental-toolchain%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'crushingcode';
  var disqus_url = 'http:\/\/crushingcode.github.io\/meet-jack-and-jill-androids-experimental-toolchain\/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Crushing C.O.D.E</a> All rights reserved - 2017</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="http://crushingcode.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="http://crushingcode.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="http://crushingcode.github.io/js/index.js"></script>
    
</body>
</html>

